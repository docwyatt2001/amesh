#
# A Wireguard Mesh (amesh) config file
#

[amesh]
#
# Amesh configruations
#

#### node_id: node ID of this amesh node
#
# node_id is a unique identifier each amesh node has. If node_id is
# not configured, amesh uses UUID generated from its public key.
node_id		= amesh-test4

#### etcd_endpoint: etcd endpoint URL.
etcd_endpoint	= 172.16.0.100:2379

#### etcd_prefix: etcd prefix that amesh nodes uses on etcd.
etcd_prefix	= /amesh

#### groups
#
# amesh installs peers and allowed-ips as routes when self and a peer
# belong the same group, or either has the specific group "any". This
# is used in only adhoc mode.
groups		= group1, group2



[wireguard]
#
# Wireguard configurations
#

#### device: wireugard device name
#
# This is used in only adhoc mode.
device		= wg0

#### port: Port number on witch wireguard listens.
#
# This is used in only adhoc mode.
port		= 51280

#### endpoint: Wireguard endpoint
#
# If endpoint is configured, amesh works as a server (other peers try
# to connect using the endpoint). If not configured, amesh works as a
# client (other peers does not initiate connections to this node).
# This is used in only adhoc mode.
endpoint	= 172.16.0.4:51280

#### pubkey_path: Wireguard pulic key file
#
# This option is mandatory on adhoc. In controlled mode, pubkey is
# mandatory for generating node id if node_id is not specififed.
pubkey_path	= public4.key

#### prvkey_path: Wireguard private key file
#
# This option is mandatory on both adhoc and controlled modes.
prvkey_path	= private4.key

#### allowed_ips: Wireguard allowed_ips of this node
#
# Other peers install these allowed-ips as routing table etnries to
# wireguard device. This is optional and overwritable in controlled
# mode. This is used in only adhoc mode.
allowed_ips	= 172.16.1.4/32
